!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("tslib"),require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@angular/google-maps",["exports","tslib","@angular/core","rxjs","rxjs/operators"],e):e(((t=t||self).ng=t.ng||{},t.ng.googleMaps={}),t.tslib,t.ng.core,t.rxjs,t.rxjs.operators)}(this,function(t,e,n,i,o){"use strict";
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var r={center:{lat:37.421995,lng:-122.084092},zoom:17},a="500px",s="500px",p=function(){function t(t){if(this._elementRef=t,this.height=a,this.width=s,this.boundsChanged=new n.EventEmitter,this.centerChanged=new n.EventEmitter,this.mapClick=new n.EventEmitter,this.mapDblclick=new n.EventEmitter,this.mapDrag=new n.EventEmitter,this.mapDragend=new n.EventEmitter,this.mapDragstart=new n.EventEmitter,this.headingChanged=new n.EventEmitter,this.idle=new n.EventEmitter,this.maptypeidChanged=new n.EventEmitter,this.mapMousemove=new n.EventEmitter,this.mapMouseout=new n.EventEmitter,this.mapMouseover=new n.EventEmitter,this.projectionChanged=new n.EventEmitter,this.mapRightclick=new n.EventEmitter,this.tilesloaded=new n.EventEmitter,this.tiltChanged=new n.EventEmitter,this.zoomChanged=new n.EventEmitter,this._listeners=[],this._options=new i.BehaviorSubject(r),this._center=new i.BehaviorSubject(void 0),this._zoom=new i.BehaviorSubject(void 0),this._destroy=new i.Subject,!window.google)throw Error("Namespace google not found, cannot construct embedded google map. Please install the Google Maps JavaScript API: https://developers.google.com/maps/documentation/javascript/tutorial#Loading_the_Maps_API")}return Object.defineProperty(t.prototype,"center",{set:function(t){this._center.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoom",{set:function(t){this._zoom.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{set:function(t){this._options.next(t||r)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(){this._setSize()},t.prototype.ngOnInit=function(){var t=this;this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize();var e=this._combineOptions();this._googleMapChanges=this._initializeMap(e),this._googleMapChanges.subscribe(function(e){t._googleMap=e,t._initializeEventHandlers()}),this._watchForOptionsChanges(),this._watchForCenterChanges(),this._watchForZoomChanges()},t.prototype.ngOnDestroy=function(){var t,n;this._destroy.next(),this._destroy.complete();try{for(var i=e.__values(this._listeners),o=i.next();!o.done;o=i.next())o.value.remove()}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},t.prototype.fitBounds=function(t,e){this._googleMap.fitBounds(t,e)},t.prototype.panBy=function(t,e){this._googleMap.panBy(t,e)},t.prototype.panTo=function(t){this._googleMap.panTo(t)},t.prototype.panToBounds=function(t,e){this._googleMap.panToBounds(t,e)},t.prototype.getBounds=function(){return this._googleMap.getBounds()||null},t.prototype.getCenter=function(){return this._googleMap.getCenter()},t.prototype.getClickableIcons=function(){return this._googleMap.getClickableIcons()},t.prototype.getHeading=function(){return this._googleMap.getHeading()},t.prototype.getMapTypeId=function(){return this._googleMap.getMapTypeId()},t.prototype.getProjection=function(){return this._googleMap.getProjection()},t.prototype.getStreetView=function(){return this._googleMap.getStreetView()},t.prototype.getTilt=function(){return this._googleMap.getTilt()},t.prototype.getZoom=function(){return this._googleMap.getZoom()},Object.defineProperty(t.prototype,"controls",{get:function(){return this._googleMap.controls},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._googleMap.data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mapTypes",{get:function(){return this._googleMap.mapTypes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overlayMapTypes",{get:function(){return this._googleMap.overlayMapTypes},enumerable:!0,configurable:!0}),t.prototype._setSize=function(){this._mapEl&&(this._mapEl.style.height=this.height||a,this._mapEl.style.width=this.width||s)},t.prototype._combineOptions=function(){return i.combineLatest([this._options,this._center,this._zoom]).pipe(o.map(function(t){var n=e.__read(t,3),i=n[0],o=n[1],r=n[2];return e.__assign(e.__assign({},i),{center:o||i.center,zoom:void 0!==r?r:i.zoom})}))},t.prototype._initializeMap=function(t){var e=this;return t.pipe(o.take(1),o.map(function(t){return new google.maps.Map(e._mapEl,t)}),o.shareReplay(1))},t.prototype._watchForOptionsChanges=function(){i.combineLatest([this._googleMapChanges,this._options]).pipe(o.takeUntil(this._destroy)).subscribe(function(t){var n=e.__read(t,2);n[0].setOptions(n[1])})},t.prototype._watchForCenterChanges=function(){i.combineLatest([this._googleMapChanges,this._center]).pipe(o.takeUntil(this._destroy)).subscribe(function(t){var n=e.__read(t,2),i=n[1];i&&n[0].setCenter(i)})},t.prototype._watchForZoomChanges=function(){i.combineLatest([this._googleMapChanges,this._zoom]).pipe(o.takeUntil(this._destroy)).subscribe(function(t){var n=e.__read(t,2),i=n[1];void 0!==i&&n[0].setZoom(i)})},t.prototype._initializeEventHandlers=function(){var t=this,e=new Map([["bounds_changed",this.boundsChanged],["center_changed",this.centerChanged],["drag",this.mapDrag],["dragend",this.mapDragend],["dragstart",this.mapDragstart],["heading_changed",this.headingChanged],["idle",this.idle],["maptypeid_changed",this.maptypeidChanged],["projection_changed",this.projectionChanged],["tilesloaded",this.tilesloaded],["tilt_changed",this.tiltChanged],["zoomChanged",this.zoomChanged]]),n=new Map([["dblclick",this.mapDblclick],["mousemove",this.mapMousemove],["mouseout",this.mapMouseout],["mouseover",this.mapMouseover],["rightclick",this.mapRightclick]]);e.forEach(function(e,n){e.observers.length>0&&t._listeners.push(t._googleMap.addListener(n,function(){e.emit()}))}),n.forEach(function(e,n){e.observers.length>0&&t._listeners.push(t._googleMap.addListener(n,function(t){e.emit(t)}))}),this.mapClick.observers.length>0&&this._listeners.push(this._googleMap.addListener("click",function(e){t.mapClick.emit(e)}))},t.decorators=[{type:n.Component,args:[{moduleId:module.id,selector:"google-map",changeDetection:n.ChangeDetectionStrategy.OnPush,template:'<div class="map-container"></div><ng-content></ng-content>',encapsulation:n.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:n.ElementRef}]},t.propDecorators={height:[{type:n.Input}],width:[{type:n.Input}],center:[{type:n.Input}],zoom:[{type:n.Input}],options:[{type:n.Input}],boundsChanged:[{type:n.Output}],centerChanged:[{type:n.Output}],mapClick:[{type:n.Output}],mapDblclick:[{type:n.Output}],mapDrag:[{type:n.Output}],mapDragend:[{type:n.Output}],mapDragstart:[{type:n.Output}],headingChanged:[{type:n.Output}],idle:[{type:n.Output}],maptypeidChanged:[{type:n.Output}],mapMousemove:[{type:n.Output}],mapMouseout:[{type:n.Output}],mapMouseover:[{type:n.Output}],projectionChanged:[{type:n.Output}],mapRightclick:[{type:n.Output}],tilesloaded:[{type:n.Output}],tiltChanged:[{type:n.Output}],zoomChanged:[{type:n.Output}]},t}(),h={position:{lat:37.421995,lng:-122.084092}},u=function(){function t(t){this.googleMap=t,this.animationChanged=new n.EventEmitter,this.mapClick=new n.EventEmitter,this.clickableChanged=new n.EventEmitter,this.cursorChanged=new n.EventEmitter,this.mapDblclick=new n.EventEmitter,this.mapDrag=new n.EventEmitter,this.mapDragend=new n.EventEmitter,this.draggableChanged=new n.EventEmitter,this.mapDragstart=new n.EventEmitter,this.flatChanged=new n.EventEmitter,this.iconChanged=new n.EventEmitter,this.mapMousedown=new n.EventEmitter,this.mapMouseout=new n.EventEmitter,this.mapMouseover=new n.EventEmitter,this.mapMouseup=new n.EventEmitter,this.positionChanged=new n.EventEmitter,this.mapRightclick=new n.EventEmitter,this.shapeChanged=new n.EventEmitter,this.titleChanged=new n.EventEmitter,this.visibleChanged=new n.EventEmitter,this.zindexChanged=new n.EventEmitter,this._options=new i.BehaviorSubject(h),this._title=new i.BehaviorSubject(void 0),this._position=new i.BehaviorSubject(void 0),this._label=new i.BehaviorSubject(void 0),this._clickable=new i.BehaviorSubject(void 0),this._destroy=new i.Subject,this._listeners=[]}return Object.defineProperty(t.prototype,"options",{set:function(t){this._options.next(t||h)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{set:function(t){this._title.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{set:function(t){this._position.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{set:function(t){this._label.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickable",{set:function(t){this._clickable.next(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this._combineOptions().pipe(o.take(1)).subscribe(function(e){t._marker=new google.maps.Marker(e),t._marker.setMap(t.googleMap._googleMap),t._initializeEventHandlers()}),this._watchForOptionsChanges(),this._watchForTitleChanges(),this._watchForPositionChanges(),this._watchForLabelChanges(),this._watchForClickableChanges()},t.prototype.ngOnDestroy=function(){var t,n;this._destroy.next(),this._destroy.complete();try{for(var i=e.__values(this._listeners),o=i.next();!o.done;o=i.next())o.value.remove()}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}this._marker&&this._marker.setMap(null)},t.prototype.getAnimation=function(){return this._marker.getAnimation()||null},t.prototype.getClickable=function(){return this._marker.getClickable()},t.prototype.getCursor=function(){return this._marker.getCursor()||null},t.prototype.getDraggable=function(){return!!this._marker.getDraggable()},t.prototype.getIcon=function(){return this._marker.getIcon()||null},t.prototype.getLabel=function(){return this._marker.getLabel()||null},t.prototype.getOpacity=function(){return this._marker.getOpacity()||null},t.prototype.getPosition=function(){return this._marker.getPosition()||null},t.prototype.getShape=function(){return this._marker.getShape()||null},t.prototype.getTitle=function(){return this._marker.getTitle()||null},t.prototype.getVisible=function(){return this._marker.getVisible()},t.prototype.getZIndex=function(){return this._marker.getZIndex()||null},t.prototype._combineOptions=function(){var t=this;return i.combineLatest([this._options,this._title,this._position,this._label,this._clickable]).pipe(o.map(function(n){var i=e.__read(n,5),o=i[0],r=i[1],a=i[2],s=i[3],p=i[4];return e.__assign(e.__assign({},o),{title:r||o.title,position:a||o.position,label:s||o.label,clickable:void 0!==p?p:o.clickable,map:t.googleMap._googleMap||null})}))},t.prototype._watchForOptionsChanges=function(){var t=this;this._options.pipe(o.takeUntil(this._destroy)).subscribe(function(e){t._marker&&t._marker.setOptions(e)})},t.prototype._watchForTitleChanges=function(){var t=this;this._title.pipe(o.takeUntil(this._destroy)).subscribe(function(e){t._marker&&void 0!==e&&t._marker.setTitle(e)})},t.prototype._watchForPositionChanges=function(){var t=this;this._position.pipe(o.takeUntil(this._destroy)).subscribe(function(e){t._marker&&e&&t._marker.setPosition(e)})},t.prototype._watchForLabelChanges=function(){var t=this;this._label.pipe(o.takeUntil(this._destroy)).subscribe(function(e){t._marker&&void 0!==e&&t._marker.setLabel(e)})},t.prototype._watchForClickableChanges=function(){var t=this;this._clickable.pipe(o.takeUntil(this._destroy)).subscribe(function(e){t._marker&&void 0!==e&&t._marker.setClickable(e)})},t.prototype._initializeEventHandlers=function(){var t=this,e=new Map([["animation_changed",this.animationChanged],["clickable_changed",this.clickableChanged],["cursor_changed",this.cursorChanged],["draggable_changed",this.draggableChanged],["flat_changed",this.flatChanged],["icon_changed",this.iconChanged],["position_changed",this.positionChanged],["shape_changed",this.shapeChanged],["title_changed",this.titleChanged],["visible_changed",this.visibleChanged],["zindex_changed",this.zindexChanged]]),n=new Map([["click",this.mapClick],["dblclick",this.mapDblclick],["drag",this.mapDrag],["dragend",this.mapDragend],["dragstart",this.mapDragstart],["mousedown",this.mapMousedown],["mouseout",this.mapMouseout],["mouseover",this.mapMouseover],["mouseup",this.mapMouseup],["rightclick",this.mapRightclick]]);e.forEach(function(e,n){e.observers.length>0&&t._listeners.push(t._marker.addListener(n,function(){e.emit()}))}),n.forEach(function(e,n){e.observers.length>0&&t._listeners.push(t._marker.addListener(n,function(t){e.emit(t)}))})},t.decorators=[{type:n.Component,args:[{moduleId:module.id,selector:"map-marker",template:"<ng-content></ng-content>",changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:p}]},t.propDecorators={options:[{type:n.Input}],title:[{type:n.Input}],position:[{type:n.Input}],label:[{type:n.Input}],clickable:[{type:n.Input}],animationChanged:[{type:n.Output}],mapClick:[{type:n.Output}],clickableChanged:[{type:n.Output}],cursorChanged:[{type:n.Output}],mapDblclick:[{type:n.Output}],mapDrag:[{type:n.Output}],mapDragend:[{type:n.Output}],draggableChanged:[{type:n.Output}],mapDragstart:[{type:n.Output}],flatChanged:[{type:n.Output}],iconChanged:[{type:n.Output}],mapMousedown:[{type:n.Output}],mapMouseout:[{type:n.Output}],mapMouseover:[{type:n.Output}],mapMouseup:[{type:n.Output}],positionChanged:[{type:n.Output}],mapRightclick:[{type:n.Output}],shapeChanged:[{type:n.Output}],titleChanged:[{type:n.Output}],visibleChanged:[{type:n.Output}],zindexChanged:[{type:n.Output}]},t}(),c=function(){function t(t,e){this.googleMap=t,this._elementRef=e,this.closeclick=new n.EventEmitter,this.contentChanged=new n.EventEmitter,this.domready=new n.EventEmitter,this.positionChanged=new n.EventEmitter,this.zindexChanged=new n.EventEmitter,this._options=new i.BehaviorSubject({}),this._position=new i.BehaviorSubject(void 0),this._listeners=[],this._destroy=new i.Subject}return Object.defineProperty(t.prototype,"options",{set:function(t){this._options.next(t||{})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{set:function(t){this._position.next(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this._combineOptions().pipe(o.takeUntil(this._destroy)).subscribe(function(e){t._infoWindow?t._infoWindow.setOptions(e):(t._infoWindow=new google.maps.InfoWindow(e),t._initializeEventHandlers())})},t.prototype.ngOnDestroy=function(){var t,n;this._destroy.next(),this._destroy.complete();try{for(var i=e.__values(this._listeners),o=i.next();!o.done;o=i.next())o.value.remove()}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}this.close()},t.prototype.close=function(){this._infoWindow&&this._infoWindow.close()},t.prototype.getContent=function(){return this._infoWindow.getContent()},t.prototype.getPosition=function(){return this._infoWindow.getPosition()||null},t.prototype.getZIndex=function(){return this._infoWindow.getZIndex()},t.prototype.open=function(t){var e=t?t._marker:void 0;this.googleMap._googleMap&&(this._elementRef.nativeElement.style.display="",this._infoWindow.open(this.googleMap._googleMap,e))},t.prototype._combineOptions=function(){var t=this;return i.combineLatest([this._options,this._position]).pipe(o.map(function(n){var i=e.__read(n,2),o=i[0],r=i[1];return e.__assign(e.__assign({},o),{position:r||o.position,content:t._elementRef.nativeElement})}))},t.prototype._initializeEventHandlers=function(){var t=this;new Map([["closeclick",this.closeclick],["content_changed",this.contentChanged],["domready",this.domready],["position_changed",this.positionChanged],["zindex_changed",this.zindexChanged]]).forEach(function(e,n){e.observers.length>0&&t._listeners.push(t._infoWindow.addListener(n,function(){e.emit()}))})},t.decorators=[{type:n.Directive,args:[{selector:"map-info-window",host:{style:"display: none"}}]}],t.ctorParameters=function(){return[{type:p},{type:n.ElementRef}]},t.propDecorators={options:[{type:n.Input}],position:[{type:n.Input}],closeclick:[{type:n.Output}],contentChanged:[{type:n.Output}],domready:[{type:n.Output}],positionChanged:[{type:n.Output}],zindexChanged:[{type:n.Output}]},t}(),l=[p,c,u],g=function(){function t(){}return t.decorators=[{type:n.NgModule,args:[{declarations:l,exports:l}]}],t}();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
t.GoogleMap=p,t.MapMarker=u,t.GoogleMapsModule=g,t.MapInfoWindow=c,Object.defineProperty(t,"__esModule",{value:!0})});